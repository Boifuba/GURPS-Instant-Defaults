{"name":"Marks as Dead (splash)","permission":{"default":0,"fxJ7E4GhCZAfiQvi":3},"type":"script","flags":{"core":{"sourceId":"Macro.B29VhIrds0SgLHnh"},"importid":"DWhBIypbRs5GnMLp"},"scope":"global","command":"let params =\n    [{\n        filterType: \"splash\",\n        filterId: \"mySplash\",\n        color: 0x900505,\n        padding: 30,\n        time: Math.random()*1000,\n        seed: Math.random()/100,\n        splashFactor: 2,\n        spread: 7,\n        blend: 1,\n        dimX: 1,\n        dimY: 1,\n        cut: true,\n        textureAlphaBlend: false\n    }];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","author":"fxJ7E4GhCZAfiQvi","img":"worlds/teste/adventures/Adventure_1622325284575/compendium/images/DWhBIypbRs5GnMLp/skull-hollow-beige.webp","actorIds":[],"_id":"8kuUizmdeUbGCMC8"}
{"name":"Pull to Scene","permission":{"default":0,"fxJ7E4GhCZAfiQvi":3},"type":"script","flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.nLhsnfg0NvUXtGYP"},"importid":"KyXPZ7infLCcN9aL"},"scope":"global","command":"//Pull in lost tokens\nconst { width, height } = canvas.dimensions;\ncanvas.tokens.updateAll(light => {\n    const { x, y } = light.data;\n    return {\n        x: Math.clamped(x, 10, width - 10),\n        y: Math.clamped(y, 10, height - 10),\n    };\n});","author":"fxJ7E4GhCZAfiQvi","img":"worlds/teste/adventures/Adventure_1622325284575/compendium/images/Lglk9IEGKcXDcI71/dice-target.svg","actorIds":[],"_id":"PwEwX6nf1MzcX4K8"}
{"_id":"ja8y7AVdNnn3Safj","name":"Share Image Via URL","permission":{"default":0,"fxJ7E4GhCZAfiQvi":3},"type":"script","flags":{"core":{"sourceId":"Macro.W8amNtQvvLH8m6QF"},"importid":"XEae1HCS47rJrCjM"},"scope":"global","command":"/**\n * Share an image to all players when you have an image URL\n * Author: @Krishmero#1792\n */\n\nlet imagePopup = (imageUrl) => {\n\t// Display the image popout and share it.\n\tconst ip = new ImagePopout(imageUrl);\n\tip.render(true);\n\tip.shareImage();\n};\n\nlet chatDialog = (imageUrl) => {\n\tChatMessage.create({\n\t\tuser: game.user._id,\n\t\tcontent: `<img src=\"${imageUrl}\" />`,\n\t\ttype: CONST.CHAT_MESSAGE_TYPES.OOC\n\t});\n};\n\nlet selectOptions = game.user.isGM ? `\n<div style=\"display: inline-block; width: 100%; margin-bottom: 10px\">\n\t<label for=\"output-options\" style=\"margin-right: 10px\">Output Options:</label>\n\t<select id=\"output-options\" />\n\t\t<option value=\"popup\">Popup</option>\n\t\t<option value=\"chat\">Chat</option>\n\t\t<option value=\"both\">Both</option>\n\t</select>\n</div>\n<br />\n` : '';\n\nnew Dialog({\n\ttitle: `Share Image via URL`,\n\tcontent: `\n\t\t<form>\n\t\t\t${selectOptions}\n\t\t\t<div style=\"display: flex; width: 100%; margin-bottom: 10px\">\n\t\t\t\t<label for=\"image-url\" style=\"white-space: nowrap; margin-right: 10px; padding-top:4px\">Image URL:</label>\n\t\t\t\t<input type=\"text\" id=\"image-url\" name=\"image-url\" />\n\t\t\t</div>\n\t\t</form>\n\t`,\n\tbuttons: {\n\t\tyes: {\n\t\t\ticon: \"<i class='fas fa-check'></i>\",\n\t\t\tlabel: `Share`,\n\t\t\tcallback: (html) => {\n\t\t\t\tlet imageUrl = html.find('#image-url').val();\n\t\t\t\tlet permission = html.find('select#output-options')[0]?.value || null;\n\t\t\t\tif (!imageUrl) {\n\t\t\t\t\treturn ui.notifications.info(\"You did not provide a valid image.\");\n\t\t\t\t}\n\t\t\t\tif (game.user.isGM && ['popup', 'both'].includes(permission)) {\n\t\t\t\t\timagePopup(imageUrl);\n\t\t\t\t}\n\t\t\t\tif (!game.user.isGM || ['chat', 'both'].includes(permission)) {\n\t\t\t\t\tchatDialog(imageUrl);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tno: {\n\t\t\ticon: \"<i class='fas fa-times'></i>\",\n\t\t\tlabel: `Cancel`\n\t\t},\n\t},\n\tdefault: \"yes\"\n}).render(true)\n","author":"fxJ7E4GhCZAfiQvi","img":"worlds/teste/adventures/Adventure_1622325284575/compendium/images/Lglk9IEGKcXDcI71/dice-target.svg","actorIds":[]}
{"name":"ReactionRoll","permission":{"default":0,"fxJ7E4GhCZAfiQvi":3},"type":"script","flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.BAVCAmeEE34jS0dN"},"importid":"SwxFagE3eJmQSiTu"},"scope":"global","command":"let r = new Roll(\"3d6 + @mod\", { mod: GURPS.ModifierBucket.currentSum()})\ngame.tables.getName(\"Reaction Rolls\").draw({roll:r})\nGURPS.ModifierBucket.clear()","author":"fxJ7E4GhCZAfiQvi","img":"worlds/teste/adventures/Adventure_1622325284575/compendium/images/SwxFagE3eJmQSiTu/dice-runed-brown.webp","actorIds":[],"_id":"oj3H8cc1pRACRs7Y"}
{"_id":"w76oX5tAH1fwrxPQ","name":"00 - A - Delete filters on Selected","permission":{"default":0,"fxJ7E4GhCZAfiQvi":3},"type":"script","flags":{"core":{"sourceId":"Macro.iaWtFGkX1tFZiyCm"},"importid":"Lglk9IEGKcXDcI71"},"scope":"global","command":"// Delete all filters on the selected tokens/tiles\nTokenMagic.deleteFiltersOnSelected();","author":"fxJ7E4GhCZAfiQvi","img":"worlds/teste/adventures/Adventure_1622325284575/compendium/images/Lglk9IEGKcXDcI71/dice-target.svg","actorIds":[]}
{"$$deleted":true,"_id":"w76oX5tAH1fwrxPQ"}
{"$$deleted":true,"_id":"PwEwX6nf1MzcX4K8"}
{"$$deleted":true,"_id":"ja8y7AVdNnn3Safj"}
{"name":"Pull to Scene","permission":{"default":0,"fxJ7E4GhCZAfiQvi":3},"type":"script","flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.nLhsnfg0NvUXtGYP"},"importid":"KyXPZ7infLCcN9aL"},"scope":"global","command":"//Pull in lost tokens\nconst { width, height } = canvas.dimensions;\ncanvas.tokens.updateAll(light => {\n    const { x, y } = light.data;\n    return {\n        x: Math.clamped(x, 10, width - 10),\n        y: Math.clamped(y, 10, height - 10),\n    };\n});","author":"fxJ7E4GhCZAfiQvi","img":"icons/tools/laboratory/alembic-glass-ball-blue.webp","actorIds":[],"_id":"y72any1sxVQlW3mJ"}
{"name":"Delete Dead Mark","permission":{"default":0,"fxJ7E4GhCZAfiQvi":3},"type":"script","flags":{"core":{"sourceId":"Macro.iaWtFGkX1tFZiyCm"},"importid":"Lglk9IEGKcXDcI71"},"scope":"global","command":"// Delete all filters on the selected tokens/tiles\nTokenMagic.deleteFiltersOnSelected();","author":"fxJ7E4GhCZAfiQvi","img":"icons/magic/death/bones-crossed-orange.webp","actorIds":[],"_id":"lpZaOcN7z0jvMkGV"}
